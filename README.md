# –ö–∞–∫ –∑–∞–ø—É—Å–∫–∞—Ç—å?
–ï—Å–ª–∏ –Ω–∞—Ö–æ–¥–∏—Ç–µ—Å—å –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ pubsub, —Ç–æ:
```
go build -o pubsub-server.exe ./cmd/server/main.go
./pubsub-server.exe
```
# –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –≤–æ–∑–º–æ–∂–Ω–∞ –∫–∞–∫ —á–µ—Ä–µ–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è, —Ç–∞–∫ –∏ —á–µ—Ä–µ–∑–µ json. –í –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ –æ—Å—Ç–∞–≤–ª–µ–Ω–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –≤ —Ñ–∞–π–ª–µ config.json

# –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å–µ—Ä–≤–∏—Å
–°–µ—Ä–≤–∏—Å —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω –ø–æ –º–æ–¥–µ–ª–∏ **Publisher-Subscriber** –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç –ø–æ–≤–µ—Ä—Ö gRPC-—Å—Ç—Ä–∏–º–∏–Ω–≥–∞.
- **Subscriber**: –∫–ª–∏–µ–Ω—Ç –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç –ø–æ—Ç–æ–∫, —É–∫–∞–∑—ã–≤–∞—è `key`. –í—Å—ë –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ –ø–æ —ç—Ç–æ–º—É –∫–ª—é—á—É –±—É–¥—É—Ç –ø—Ä–∏—Ö–æ–¥–∏—Ç—å —Å—é–¥–∞ –∫–ª–∏–µ–Ω—Ç—É.
- **Publisher**: –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è —Å–æ–æ–±—â–µ–Ω–∏–µ —Å —É–∫–∞–∑–∞–Ω–Ω—ã–º `key`. –í—Å–µ –ø–æ–¥–ø–∏—Å—á–∏–∫–∏, –ø–æ–¥–ø–∏—Å–∞–Ω–Ω—ã–µ –Ω–∞ —ç—Ç–æ—Ç –∫–ª—é—á, –ø–æ–ª—É—á–∞—Ç —É–∫–∞–∑–∞–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ(`data`).

# –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –ø–æ –ø—É–Ω–∫—Ç–∞–º –∏–∑ –∑–∞–¥–∞–Ω–∏—è
- **–ù–∞ –æ–¥–∏–Ω subject –º–æ–∂–µ—Ç –ø–æ–¥–ø–∏—Å—ã–≤–∞—Ç—å—Å—è (–∏ –æ—Ç–ø–∏—Å—ã–≤–∞—Ç—å—Å—è) –º–Ω–æ–∂–µ—Å—Ç–≤–æ –ø–æ–¥–ø–∏—Å—á–∏–∫–æ–≤** - —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ.
- **–û–¥–∏–Ω –º–µ–¥–ª–µ–Ω–Ω—ã–π –ø–æ–¥–ø–∏—Å—á–∏–∫ –Ω–µ –¥–æ–ª–∂–µ–Ω —Ç–æ—Ä–º–æ–∑–∏—Ç—å –æ—Å—Ç–∞–ª—å–Ω—ã—Ö** - —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ —Å –ø–æ–º–æ—â—å—é –±—É—Ñ—Ñ–µ—Ä–µ–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –∫–∞–Ω–∞–ª–æ–≤ –Ω–∞ 100 —Å–æ–æ–±—â–µ–Ω–∏–π
- **–ù–µ–ª—å–∑—è —Ç–µ—Ä—è—Ç—å –ø–æ—Ä—è–¥–æ–∫ –ø–æ—Ä—è–¥–æ–∫ —Å–æ–æ–±—â–µ–Ω–∏–π (FIFO –æ—á–µ—Ä–µ–¥—å)** - —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ. –ù–∞–ø–∏—Å–∞–Ω unit-—Ç–µ—Å—Ç –Ω–∞ —ç—Ç–æ –ø–æ–≤–µ–¥–µ–Ω–∏–µ. 
- **–ú–µ—Ç–æ–¥ Close –¥–æ–ª–∂–µ–Ω —É—á–∏—Ç—ã–≤–∞—Ç—å –ø–µ—Ä–µ–¥–∞–Ω–Ω—ã–π –∫–æ–Ω—Ç–µ–∫—Å—Ç. –ï—Å–ª–∏ –æ–Ω –æ—Ç–º–µ–Ω–µ–Ω - –≤—ã—Ö–æ–¥–∏–º —Å—Ä–∞–∑—É, —Ä–∞–±–æ—Ç–∞—é—â–∏–µ —Ö–µ–Ω–¥–ª–µ—Ä—ã –æ—Å—Ç–∞–≤–ª—è–µ–º —Ä–∞–±–æ—Ç–∞—Ç—å** - —Å–æ–æ–±—â–µ–Ω–∏—è –æ—Å—Ç–∞–≤—à–∏–µ—Å—è –¥–æ—Ö–æ–¥—è—Ç. –•—ç–Ω–¥–ª–µ—Ä—ã –ø—Ä–æ–¥–æ–ª–∂–∞—é—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –¥–æ —Ç–æ–≥–æ –º–æ–º–µ–Ω—Ç–∞, –ø–æ–∫–∞ —Å–∞–º–∏ –Ω–µ –∑–∞–≤–µ—Ä—à–∞—Ç —Å–≤–æ—é —Ä–∞–±–æ—Ç—É. –í—Å—ë —á–µ—Ç–∫–æ –ø–æ –∑–∞–¥–∞–Ω–∏—é, —Ö–æ—Ç—è —ã–ª–æ –±—ã –ª–æ–≥–∏—á–Ω–æ –∏—Ö –∑–∞–≤–µ—Ä—à–∞—Ç—å —á–µ—Ä–µ–∑ –∫–∞–∫–æ–µ-—Ç–æ –≤—Ä–µ–º—è. **–í–∞–∂–Ω–æ**: –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω–æ, –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å —Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ –∫–æ–º–∞–Ω–¥—ã SIGINT, –Ω–æ –ø–æ—Å–ª–µ SIGKILL –æ—Ç—Ä—É–±–∏—Ç—Å—è ü•π
- **–ì–æ—Ä—É—Ç–∏–Ω—ã (–µ—Å–ª–∏ –æ–Ω–∏ –±—É–¥—É—Ç) —Ç–µ—á—å –Ω–µ –¥–æ–ª–∂–Ω—ã** - –Ω–µ —Ç–µ–∫—É—Ç. 
–ß—Ç–æ –≥–æ—Ä—É—Ç–∏–Ω—ã –Ω–µ —Ç–µ–∫—É—Ç –º–æ–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å, –Ω–∞–ø—Ä–∏–º–µ—Ä, —á–µ—Ä–µ–∑ –≤–æ—Ç —Ç–∞–∫—É—é —Ñ—É–Ω–∫—Ü–∏—é(—Å–∞–º –µ–π –ø–æ–ª—å–∑–æ–≤–∞–ª—Å—è –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏):
```
func monitorGoroutines() {
	for {
		time.Sleep(5 * time.Second)
		fmt.Printf("Number of goroutines: %d\n", runtime.NumGoroutine())
	}
}
```
–ü—Ä–æ—Å—Ç–æ –≤—ã–≤–æ–¥–∏—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –≥–æ—Ä—É—Ç–∏–Ω –≤ –∫–æ–Ω—Å–æ–ª—å.

# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–Ω—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
- Dependency Injection - –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã, —Ç–∞–∫–∏–µ –∫–∞–∫ SubPub –∏ –ª–æ–≥–≥–µ—Ä, –≤–Ω–µ–¥—Ä—è—é—Ç—Å—è –≤ —Å–µ—Ä–≤–∏—Å.
- Graceful Shutdown - —Å–µ—Ä–≤–∏—Å –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç —Å–∏–≥–Ω–∞–ª—ã –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –∑–∞–≤–µ—Ä—à–∞–µ—Ç —Ä–∞–±–æ—Ç—É.
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥–æ–º - –∫–æ–Ω—Ñ–∏–≥ –∑–∞–¥–∞–µ—Ç—Å—è –≤–Ω–µ—à–Ω–∏–º JSON-—Ñ–∞–π–ª–æ–º –∏–ª–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–º–∏ –æ–∫—Ä—É–∂–µ–Ω–∏—è
- –°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ - –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤–µ–¥—ë—Ç—Å—è –≤ –µ–¥–∏–Ω–æ–º —Ñ–æ—Ä–º–∞—Ç–µ –ø–æ –≤—Å–µ–º—É —Å–µ—Ä–≤–∏—Å—É.
